
var world = new World();

var container = document.getElementById('world');

world.tiles = 
[[new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new WoodenTile(), new WoodenTile(), new WoodenTile(), new WoodenTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new WoodenTile(), new WoodenTile(), new WoodenTile(), new WoodenTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new TerminalTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new GroundTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new GroundTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new GroundTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new GroundTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new ExitTile(), new ExitTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()], [new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new ExitTile(), new ExitTile(), new GroundTile(), new GroundTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile(), new FreeTile()]];
C.gravity = 17;
var player = new Player();
Utils.setUpPlayer(player, world);
player.magician.actor.y = 14;
player.magician.actor.x = 21;
player.scientist.actor.y = 14;
world.draw(container);
world.loop();
C.jumpBoost = -14;

for(var i = 0;i<world.tiles.length;++i) {
  for (var j=0;j<world.tiles.length;++j){
    if (Utils.getObjectClass(world.tiles[i][j]) == "TerminalTile") {
      world.tiles[i][j].hack = function(){
	freed_tiles = [[19,14],[20,14],[22,14],[23,14], [19,12], [23,12]];
	for (var index = 0; index < freed_tiles.length;++index) {
	  var l = freed_tiles[index][0];
	  var k = freed_tiles[index][1];
	  world.tiles[l][k].node.parentElement.removeChild(world.tiles[l][k].node);
	  world.tiles[l][k] = new FreeTile();
	  world.tiles[l][k].draw(container, l, k, world);
	}
	for (var k = 20; k <= 25; ++k) {
	  for (var l = 12; l < 14; l++) {
	    if (Utils.getObjectClass(world.tiles[l][k] == "GroundTile")) {
	      world.tiles[l][k].node.parentElement.removeChild(world.tiles[l][k].node);
	      world.tiles[l][k].draw(container, l, k, world);
	    }
	  }
	}
	for (var idx = 0; idx < world.actors.length; ++idx) {
	  world.actors[idx].gravity = 55;
	}
	player.scientist.actor.gravity = 55;
	player.magician.actor.gravity = 55;
	added_tiles = [[22,5],[23,5],[20,7],[19,7], [18,7]];
	for (var index = 0; index < added_tiles.length;++index) {
	  var l = added_tiles[index][0];
	  var k = added_tiles[index][1];
	  world.tiles[l][k].node.parentElement.removeChild(world.tiles[l][k].node);
	  world.tiles[l][k] = new GroundTile();
	}
	for (var index = 0; index < added_tiles.length;++index) {
	  var l = added_tiles[index][0];
	  var k = added_tiles[index][1];
	  world.tiles[l][k].draw(container, l, k, world);
	}
	C.gravity = 55;
      }
      break;
    }
  }
}
